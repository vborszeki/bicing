(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e){e.exports={apiKey:"AIzaSyAjXi9K1EioyCx9fIgXN4uUQwCdSVHz_vM"}},35:function(e){e.exports=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},45:function(e,t,n){e.exports=n(77)},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),l=n.n(o),i=n(19),c=n(9),s=n(10),u=n(33),f=n.n(u),p=n(34),m=n(35),y=n(15);function b(){var e=Object(c.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n  top: ","px;\n  border: 1px solid #e91e63;\n  border-radius: ","px;\n  background-color: ",";\n  opacity: ",";\n  z-index: ",";\n  cursor: pointer;\n"]);return b=function(){return e},e}var d=s.b.div(b(),function(e){return e.size},function(e){return e.size},function(e){return e.size/-2},function(e){return e.size/-2},function(e){return e.size},function(e){return"station"===e.type?"#e91e63":"transparent"},function(e){return"station"===e.type?.4:1},function(e){return"station"===e.type?1:0}),v=function(e){var t=e.stationInfo;return r.a.createElement(d,{type:"station",size:1.5*t.capacity})},h=function(e){var t=e.stationInfo;return t.mechanicalBikes+t.ebikes>0?r.a.createElement(d,{type:"bike",size:1.5*(t.mechanicalBikes+t.ebikes)}):null},g=function(e){var t=e.station,n=e.setSelectedStation,a=Object(y.b)({config:{friction:3,tension:200},transform:"scale(1.1)",from:{transform:"scale(1)"}});return r.a.createElement(y.a.div,{style:a,onClick:function(){n(t)}},r.a.createElement(v,{stationInfo:t}),r.a.createElement(h,{stationInfo:t}))};function T(){var e=Object(c.a)(["\n  height: 100vh;\n  width: 100%;\n"]);return T=function(){return e},e}var x=s.b.div(T()),k={styles:m,disableDefaultUI:!0,clickableIcons:!1,gestureHandling:"greedy"},E=function(e){var t=e.center,n=e.zoom,a=e.stations,o=e.setSelectedStation;return r.a.createElement(x,null,r.a.createElement(f.a,{bootstrapURLKeys:{key:p.apiKey},defaultCenter:t,defaultZoom:n,options:k},a&&a.map(function(e,t){return r.a.createElement(g,{key:t,station:e,lat:e.lat,lng:e.lon,setSelectedStation:o})})))};E.defaultProps={center:{lat:41.39,lng:2.17},zoom:13.5};var w=E,j=n(96),O=n(94);function S(){var e=Object(c.a)(["\n  padding: 20px;\n"]);return S=function(){return e},e}var _=s.b.div(S()),z=function(e){var t=e.selectedStation;return r.a.createElement(_,null,r.a.createElement(O.a,{variant:"subtitle1",component:"h1",gutterBottom:!0},t.name),r.a.createElement(O.a,{component:"p"},"\ud83d\udd27 mechanical: ".concat(t.mechanicalBikes)),r.a.createElement(O.a,{component:"p"},"\u26a1\ufe0f electric: ".concat(t.ebikes)),r.a.createElement(O.a,{component:"p"},"\ud83c\udd93 spaces: ".concat(t.availableDocks)))};function I(){var e=Object(c.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  font-size: 60px;\n"]);return I=function(){return e},e}var B=Object(s.b)(y.a.div)(I()),C=function(){var e=Object(y.b)({config:{friction:0,tension:5},opacity:.5,from:{opacity:1}});return r.a.createElement(B,{style:e},r.a.createElement("span",{role:"img","aria-label":"bike"},"\ud83d\udeb2"))},K=n(23),D=n.n(K),U=n(39),A=n(40),F=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)(function(){o()},[]);var o=function(){var e=Object(A.a)(D.a.mark(function e(){var t,n,a,o,l,i,c;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_information");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,a=n.data.stations.map(function(e){return{id:e.station_id,name:e.name,lat:e.lat,lon:e.lon,capacity:e.capacity}}),e.next=10,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_status");case 10:return o=e.sent,e.next=13,o.json();case 13:l=e.sent,i=l.data.stations.map(function(e){return{id:e.station_id,mechanicalBikes:e.num_bikes_available_types.mechanical,ebikes:e.num_bikes_available_types.ebike,availableDocks:e.num_docks_available,status:e.status}}),c=a.map(function(e){return Object(U.a)({},i.find(function(t){return t.id===e.id}),e)}).filter(function(e){return"IN_SERVICE"===e.status}),r(c),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[0,19]])}));return function(){return e.apply(this,arguments)}}();return n};function H(){var e=Object(c.a)(["\n  body {\n    margin: 0;\n  }\n"]);return H=function(){return e},e}var J=Object(s.a)(H()),N=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],l=F(),c=0===l.length;return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(C,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{stations:l,setSelectedStation:o}),n&&r.a.createElement(j.a,{anchor:"bottom",open:Boolean(n),onClose:function(){return o(null)}},r.a.createElement(z,{selectedStation:n}))),r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.f303b545.chunk.js.map