(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e){e.exports={apiKey:"AIzaSyAjXi9K1EioyCx9fIgXN4uUQwCdSVHz_vM"}},21:function(e){e.exports=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},29:function(e,t,n){e.exports=n(59)},59:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),i=n.n(o),l=n(1),s=n(2),c=n(19),u=n.n(c),f=n(20),p=n(21),y=n(4);function m(){var e=Object(l.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n  top: ","px;\n  border: 1px solid #e91e63;\n  border-radius: ","px;\n  background-color: ",";\n  opacity: ",";\n  z-index: ",";\n"]);return m=function(){return e},e}var b=s.b.div(m(),function(e){return e.size},function(e){return e.size},function(e){return e.size/-2},function(e){return e.size/-2},function(e){return e.size},function(e){return"station"===e.type?"#e91e63":"transparent"},function(e){return"station"===e.type?.4:1},function(e){return"station"===e.type?0:1}),d=function(e){var t=e.stationInfo;return a.a.createElement(b,{type:"station",size:1.5*t.capacity})},v=function(e){var t=e.stationInfo;return a.a.createElement(b,{type:"bike",size:1.5*(t.mechanicalBikes+t.ebikes)})},h=function(e){var t=e.station,n=Object(y.b)({config:{friction:3,tension:200},transform:"scale(1.1)",from:{transform:"scale(1)"}});return a.a.createElement(y.a.div,{style:n},a.a.createElement(d,{stationInfo:t}),a.a.createElement(v,{stationInfo:t}))};function T(){var e=Object(l.a)(["\n  height: 100vh;\n  width: 100%;\n"]);return T=function(){return e},e}var g=s.b.div(T()),x={styles:p,disableDefaultUI:!0},k=function(e){var t=e.center,n=e.zoom,r=e.stations;return a.a.createElement(g,null,a.a.createElement(u.a,{bootstrapURLKeys:{key:f.apiKey},defaultCenter:t,defaultZoom:n,options:x},r&&r.map(function(e,t){return a.a.createElement(h,{key:t,station:e,lat:e.lat,lng:e.lon})})))};k.defaultProps={center:{lat:41.39,lng:2.17},zoom:13.5};var w=k;function E(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  font-size: 50px;\n"]);return E=function(){return e},e}var j=Object(s.b)(y.a.div)(E()),z=function(){var e=Object(y.b)({config:{friction:0,tension:60},transform:"scale(1.1)",from:{transform:"scale(1)"}});return a.a.createElement(j,{style:e},a.a.createElement("span",{role:"img","aria-label":"bike"},"\ud83d\udeb2"))},O=n(10),_=n.n(O),I=n(24),B=n(25),C=n(26),K=function(){var e=Object(r.useState)([]),t=Object(C.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)(function(){o()},[]);var o=function(){var e=Object(B.a)(_.a.mark(function e(){var t,n,r,o,i,l,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_information");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=n.data.stations.map(function(e){return{id:e.station_id,name:e.name,lat:e.lat,lon:e.lon,capacity:e.capacity}}),e.next=10,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_status");case 10:return o=e.sent,e.next=13,o.json();case 13:i=e.sent,l=i.data.stations.map(function(e){return{id:e.station_id,mechanicalBikes:e.num_bikes_available_types.mechanical,ebikes:e.num_bikes_available_types.ebike,status:e.status}}),s=r.map(function(e){return Object(I.a)({},l.find(function(t){return t.id===e.id}),e)}).filter(function(e){return"IN_SERVICE"===e.status}),a(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[0,19]])}));return function(){return e.apply(this,arguments)}}();return n};function S(){var e=Object(l.a)(["\n  body {\n    margin: 0;\n  }\n"]);return S=function(){return e},e}var U=Object(s.a)(S()),A=function(){var e=K();return 0===e.length?a.a.createElement(z,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{stations:e}),a.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.928d0d26.chunk.js.map