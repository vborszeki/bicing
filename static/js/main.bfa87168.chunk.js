(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e){e.exports={apiKey:"AIzaSyAjXi9K1EioyCx9fIgXN4uUQwCdSVHz_vM"}},22:function(e){e.exports=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},29:function(e,t,n){e.exports=n(59)},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),l=n(5),s=n(1),c=n(2),u=n(20),f=n.n(u),p=n(21),y=n(22),m=n(4);function b(){var e=Object(s.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n  top: ","px;\n  border: 1px solid #e91e63;\n  border-radius: ","px;\n  background-color: ",";\n  opacity: ",";\n  z-index: ",";\n  cursor: pointer;\n"]);return b=function(){return e},e}var d=c.b.div(b(),function(e){return e.size},function(e){return e.size},function(e){return e.size/-2},function(e){return e.size/-2},function(e){return e.size},function(e){return"station"===e.type?"#e91e63":"transparent"},function(e){return"station"===e.type?.4:1},function(e){return"station"===e.type?1:0}),v=function(e){var t=e.stationInfo,n=e.onStationClick;return r.a.createElement(d,{type:"station",size:1.5*t.capacity,onClick:function(){return n({name:t.name,capacity:t.capacity,mechanicalBikes:t.mechanicalBikes,ebikes:t.ebikes})}})},k=function(e){var t=e.stationInfo;return t.mechanicalBikes+t.ebikes>0?r.a.createElement(d,{type:"bike",size:1.5*(t.mechanicalBikes+t.ebikes)}):null},h=function(e){var t=e.station,n=e.onStationClick,a=Object(m.b)({config:{friction:3,tension:200},transform:"scale(1.1)",from:{transform:"scale(1)"}});return r.a.createElement(m.a.div,{style:a,className:"kiskutya"},r.a.createElement(v,{stationInfo:t,onStationClick:n}),r.a.createElement(k,{stationInfo:t}))};function T(){var e=Object(s.a)(["\n  height: 100vh;\n  width: 100%;\n"]);return T=function(){return e},e}var g=c.b.div(T()),x={styles:y,disableDefaultUI:!0},w=function(e){var t=e.center,n=e.zoom,a=e.stations,o=e.onStationClick;return r.a.createElement(g,null,r.a.createElement(f.a,{bootstrapURLKeys:{key:p.apiKey},defaultCenter:t,defaultZoom:n,options:x},a&&a.map(function(e,t){return r.a.createElement(h,{key:t,station:e,lat:e.lat,lng:e.lon,onStationClick:o})})))};w.defaultProps={center:{lat:41.39,lng:2.17},zoom:13.5};var E=w;function j(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  font-size: 60px;\n"]);return j=function(){return e},e}var O=Object(c.b)(m.a.div)(j()),z=function(){var e=Object(m.b)({config:{friction:0,tension:5},opacity:.5,from:{opacity:1}});return r.a.createElement(O,{style:e},r.a.createElement("span",{role:"img","aria-label":"bike"},"\ud83d\udeb2"))},_=n(11),C=n.n(_),S=n(25),I=n(26),B=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)(function(){o()},[]);var o=function(){var e=Object(I.a)(C.a.mark(function e(){var t,n,a,o,i,l,s;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_information");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,a=n.data.stations.map(function(e){return{id:e.station_id,name:e.name,lat:e.lat,lon:e.lon,capacity:e.capacity}}),e.next=10,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_status");case 10:return o=e.sent,e.next=13,o.json();case 13:i=e.sent,l=i.data.stations.map(function(e){return{id:e.station_id,mechanicalBikes:e.num_bikes_available_types.mechanical,ebikes:e.num_bikes_available_types.ebike,status:e.status}}),s=a.map(function(e){return Object(S.a)({},l.find(function(t){return t.id===e.id}),e)}).filter(function(e){return"IN_SERVICE"===e.status}),r(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[0,19]])}));return function(){return e.apply(this,arguments)}}();return n};function K(){var e=Object(s.a)(["\n  body {\n    margin: 0;\n  }\n"]);return K=function(){return e},e}var N=Object(c.a)(K()),U=function(){var e=Object(a.useState)({}),t=Object(l.a)(e,2),n=t[0],o=t[1],i=B(),s=0===i.length;return r.a.createElement(r.a.Fragment,null,s?r.a.createElement(z,null):r.a.createElement(E,{stations:i,onStationClick:function(e){o(e),console.log(n)}}),r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.bfa87168.chunk.js.map