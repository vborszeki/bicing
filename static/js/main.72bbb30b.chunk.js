(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e){e.exports={apiKey:"AIzaSyAjXi9K1EioyCx9fIgXN4uUQwCdSVHz_vM"}},19:function(e){e.exports=[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]}]},27:function(e,t,n){e.exports=n(57)},57:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),l=n.n(o),i=n(1),s=n(2),c=n(17),u=n.n(c),f=n(18),p=n(19);function y(){var e=Object(i.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n  top: ","px;\n  border: 1px solid #e91e63;\n  border-radius: ","px;\n  background-color: ",";\n  opacity: ",";\n  z-index: ",";\n"]);return y=function(){return e},e}var m=s.b.div(y(),function(e){return e.size},function(e){return e.size},function(e){return e.size/-2},function(e){return e.size/-2},function(e){return e.size},function(e){return"station"===e.type?"#e91e63":"transparent"},function(e){return"station"===e.type?.4:1},function(e){return"station"===e.type?0:1}),b=function(e){var t=e.stationInfo;return a.a.createElement(m,{type:"station",size:2*t.capacity})},d=function(e){var t=e.stationInfo;return a.a.createElement(m,{type:"bike",size:2*(t.mechanicalBikes+t.ebikes)})},v=function(e){var t=e.station;return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{stationInfo:t}),a.a.createElement(d,{stationInfo:t}))};function T(){var e=Object(i.a)(["\n  height: 100vh;\n  width: 100%;\n"]);return T=function(){return e},e}var h=s.b.div(T()),x={styles:p,disableDefaultUI:!0},g=function(e){var t=e.center,n=e.zoom,r=e.stations;return a.a.createElement(h,null,a.a.createElement(u.a,{bootstrapURLKeys:{key:f.apiKey},defaultCenter:t,defaultZoom:n,options:x},r&&r.map(function(e,t){return a.a.createElement(v,{key:t,station:e,lat:e.lat,lng:e.lon})})))};g.defaultProps={center:{lat:41.39,lng:2.17},zoom:13.5};var w=g,k=n(8),E=n.n(k),_=n(26),j=n(22),z=n(23),I=function(){var e=Object(r.useState)([]),t=Object(z.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)(function(){o()},[]);var o=function(){var e=Object(j.a)(E.a.mark(function e(){var t,n,r,o,l,i,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_information");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,r=n.data.stations.map(function(e){return{id:e.station_id,name:e.name,lat:e.lat,lon:e.lon,capacity:e.capacity}}),e.next=10,fetch("https://api.bsmsa.eu/ext/api/bsm/gbfs/v2/en/station_status");case 10:return o=e.sent,e.next=13,o.json();case 13:l=e.sent,i=l.data.stations.map(function(e){return{id:e.station_id,mechanicalBikes:e.num_bikes_available_types.mechanical,ebikes:e.num_bikes_available_types.ebike,status:e.status}}),s=r.map(function(e){return Object(_.a)({},i.find(function(t){return t.id===e.id}),e)}).filter(function(e){return"IN_SERVICE"===e.status}),a(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[0,19]])}));return function(){return e.apply(this,arguments)}}();return n};function O(){var e=Object(i.a)(["\n  body {\n    margin: 0;\n  }\n"]);return O=function(){return e},e}var B=Object(s.a)(O()),C=function(){var e=I();return a.a.createElement(a.a.Fragment,null,a.a.createElement(w,{stations:e}),a.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.72bbb30b.chunk.js.map